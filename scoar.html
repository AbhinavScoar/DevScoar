<html>
  <head>
    <title>Scoar</title>
    <script src="https://unpkg.com/@daily-co/daily-js"></script>
    <!--<script src="../shared-assets/create-demo-room.js"></script>-->
	<style type="text/css"> 
        html { 
            overflow: auto; 
        } 
          
        html, 
        body, 
        div, 
        #whiteboard { 
            margin: 0px; 
            padding: 0px; 
            height: 100%; 
            border: none;
        } 
          
		#whiteboard {
			position: absolute;
			left: 0;
			top: 0;
            display: block; 
            width: 80%; 
            border: none; 
            overflow-y: auto; 
            overflow-x: hidden; 
        } 
    </style> 
  </head>
  <body onload="run()">
  <iframe id="whiteboard" src="https://scoar.netlify.app/"
            frameborder="0" 
            marginheight="0" 
            marginwidth="0" 
            width="100%" 
            height="100%" 
            scrolling="disabled"> 
  </iframe> 
    <script>
	
		var wid = '20%';
		
      async function run() {
        //room = await createMtgRoom();

		room = { url: 'https://scoar.daily.co/Demo' }

        callFrame = window.DailyIframe.createFrame({
          iframeStyle: {
             position: 'absolute',
             border: 0,
             right: 0,
			 bottom: 0,
             width: wid,
             height: '100%'
           }
        });
		
		
        await callFrame.join({ 
          url: room.url,
          showLeaveButton: false,
		  showFullscreenButton: true,
		  userName: "AbhinavSrivastava"
        });
		
		
		
		function showEvent(e) {
			if(e.participant.screen){
				console.log('Shared');
			}
		}

		callFrame.on("participant-updated", showEvent);
		
		if (callFrame.participant-updated.participant.screen){
			callFrame.requestFullScreen();
		}
		else{
			callFrame.exitFullScreen();
		}

        function leave(e) {
          callFrame.destroy();
        }
      }
    </script>
  </body>
</html>
